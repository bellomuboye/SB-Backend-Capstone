
<div class="column" style="max-width: 400px; margin-left: auto; margin-right: auto;">
  <h2 class="ui teal image header">
    <img src="assets/images/logo.png" class="image">
    <div class="content">
      Join UsðŸ˜„. Sign Up.
    </div>
  </h2>
  <form class="ui large form" method="post" action="/signup/authenticate">
    <div class="ui stacked segment">
      <div class="field">
        <div class="ui left icon input">
          <i class="user icon"></i>
          <input type="text" name="name" placeholder="Full Name" value="<%= typeof name != 'undefined' ? name : '' %>">
        </div>
      </div>
      <div class="field">
        <div class="ui left icon input">
          <i class="user icon"></i>
          <input id="username" type="text" name="username" placeholder="Choose a Username" value="<%= typeof username != 'undefined' ? username : '' %>">
          <button type="button" class="randomGen ui fluid button">Generate Random Username</button>
        </div>
      </div>
      <div class="field">
        <div class="ui left icon input">
          <i class="user icon"></i>
          <input type="email" name="email" placeholder="E-mail address" value="<%= typeof email != 'undefined' ? email : '' %>">
        </div>
      </div>
      <div class="field">
        <div class="ui left icon input">
          <i class="lock icon"></i>
          <input type="password" name="password" placeholder="Password" value="<%= typeof password != 'undefined' ? password : '' %>">
        </div>
      </div>
      <button class="ui fluid large teal submit button" type="submit" name="action" value="signup">Sign Up</button>
    </div>

    <div class="ui error message"></div>
  

  </form>

  <% if(typeof error != 'undefined') { %>
    <div class="ui error message">
      <div class="header"><%= error.title %></div>
      <p><%= error.message %></p>
    </div>
    <% } %>

    <div class="ui message">
      Old Timer? <a href="/login">Log In</a>
    </div>
</div>

<script>
  let randomGen = document.querySelector('.randomGen');
  let usernameField = document.querySelector('#username');
  randomGen.addEventListener('click', (e)=> {
    usernameField.value = 'Anon' + Math.round(Math.random() * 10000);
  })
</script>